model User {
  id                    String                 @id @default(cuid())
  fullName              String
  email                 String                 @unique
  password              String
  phoneNumber           String
  profileImage          String?
  bio                   String?
  dateOfBirth           DateTime?
  lastLogin             DateTime               @default(now())
  role                  UserRole               @default(STUDENT)
  status                UserStatus             @default(ACTIVE)
  isEmailVerified       Boolean                @default(false)
  createdAt             DateTime               @default(now())
  updatedAt             DateTime               @updatedAt
  crApprovedAt          DateTime?
  crId                  String?
  institutionId         String?
  isCr                  Boolean                @default(false)
  isCrDetailsSubmitted  Boolean                @default(false)
  assessmentSubmissions AssessmentSubmission[] @relation("AssessmentSubmissionStudent")
  createdAssessments    Assessment[]           @relation("AssessmentCreatedBy")
  auditLogs             AuditLog[]             @relation("AuditLogUser")
  enrollmentAdded       BatchEnrollment[]      @relation("EnrollmentAddedBy")
  batchEnrollments      BatchEnrollment[]      @relation("StudentEnrollments")
  createdClasses        Class[]                @relation("ClassCreatedBy")
  crRegistrations       CRRegistration[]
  resolvedIssues        Issue[]                @relation("IssueResolvedBy")
  reportedIssues        Issue[]                @relation("IssueStudent")
  postedNotices         Notice[]               @relation("NoticePostedBy")
  notifications         Notification[]         @relation("UserNotification")
  createdRoutines       Routine[]              @relation("RoutineCreatedBy")
  createdSubjects       Subject[]              @relation("SubjectCreatedBy")
  createdTeachers       Teacher[]              @relation("TeacherCreatedBy")
  creator               User?                  @relation("StudentCreator", fields: [crId], references: [id])
  createdStudents       User[]                 @relation("StudentCreator")
  institution           Institution?           @relation(fields: [institutionId], references: [id])

  @@map("users")
}
