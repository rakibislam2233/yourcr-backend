model CRRegistration {
    id String @id @default(uuid())

    userId String
    user   User   @relation(fields: [userId], references: [id])

    institutionId String
    institution   Institution @relation(fields: [institutionId], references: [id])

    sessionName  String
    sessionType  SessionType
    department   String
    academicYear String

    documentProof   String?
    status          CRRegistrationStatus @default(PENDING)
    rejectionReason String?

    reviewedById String?
    reviewedBy   User?   @relation("ReviewedCR", fields: [reviewedById], references: [id])

    reviewedAt DateTime?
    createdAt  DateTime  @default(now())
    updatedAt  DateTime  @updatedAt

    @@unique([userId, sessionName, department])
}
